<div class="container">
  <h1>Facturaci√≥n</h1>
  <form (ngSubmit)="onSubmit();compraForm.reset()" #compraForm="ngForm">
    <div class="form-group">
      <label for="producto">Producto</label>
      <select item-width="250px" class="form-control" id="producto" name="producto" required [(ngModel)]="prod" (ngSelect)="onProductoSelect()">
          <option disabled value="">Seleccione...</option>
          <option value="0">Papa</option>
          <option value="1">Cebolla</option>
          <option value="2">Tomate</option>
        </select>
    </div>
    <div class="form-group">
      <label for="cantidad">Cantidad</label>
      <input type="number" min="1"  (ngModelChange)="validate($event)" class="form-control" id="cantidad" [(ngModel)]="cant"
          required name="cantidad" #cantidad="ngModel">
      <div [hidden]="cantidad.valid || cantidad.pristine" class="alert alert-danger">
        Se requiere cantidad
      </div>
    </div>
    <button type="submit" class="btn btn-default" [disabled]="!compraForm.form.valid">Agregar</button>
    <button type="button" class="btn btn-default" (click)="compraForm.reset()">Resetear</button>
  </form>
  <hr/>
  <table width="100%" border="1" style="margin-bottom: 10px">
    <thead>
      <th style="padding-left: 2px">Producto</th>
      <th style="text-align: right;padding-right: 2px">Cantidad</th>
      <th style="text-align: right;padding-right: 2px">Precio</th>
      <th style="text-align: right;padding-right: 2px">Total</th>
    </thead>
    <tbody>
      <tr *ngFor="let prod of productos">
        <td style="padding: 0 2px 0 5px">{{prod.nombre}}</td>
        <td style="text-align: right;padding: 0 2px 0 0">{{prod.cant | number : '1.0-0'}}</td>
        <td style="text-align: right;font-weight: bold;padding: 0 2px 0 0">{{prod.precio | number : '1.2-2'}}</td>
        <td style="text-align: right;font-weight: bold;padding: 0 2px 0 0">{{prod.total | number : '1.2-2'}}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3" style="text-align: right;font-weight: bold">Total:</td>
        <td style="text-align: right;font-weight: bold;padding: 0 2px 0 0">{{total | number : '1.2-2'}}</td>
      </tr>
    </tfoot>
  </table>
  <button type="button" class="btn btn-default">Facturar</button>
  <button type="button" class="btn btn-default">Reservar</button>
</div>
